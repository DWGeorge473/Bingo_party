<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Baby Shower Bingo</title>

  <style>
    :root{
      --mint:#CFE8DD;
      --mint2:#BFE0D3;
      --sage:#A9C37B;
      --lav:#B79AD6;
      --aqua:#6CC6D3;
      --peach:#F4A261;
      --pink:#E9A7B6;
      --grid:#9FC9BB;
      --ink:#2a2a2a;
      --paper:#ffffff;
      --shadow: 0 10px 30px rgba(0,0,0,.08);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 800px at 50% -10%, #ffffff 0%, #f7fbf9 40%, #f1faf6 100%);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }

    .wrap{
      width:min(980px, 100%);
      display:grid;
      gap:14px;
      grid-template-columns: 1fr;
    }

    .card{
      background:var(--paper);
      border:10px solid var(--mint2);
      border-radius:18px;
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    /* top decorative bar */
    .topbar{
      padding:14px 16px 10px;
      background:linear-gradient(180deg, var(--mint) 0%, #eaf7f1 100%);
      border-bottom:2px solid rgba(159,201,187,.55);
      position:relative;
    }
    .zigzag{
      height:10px;
      background:
        linear-gradient(135deg, transparent 75%, rgba(183,154,214,.65) 0) 0 0/14px 14px,
        linear-gradient(225deg, transparent 75%, rgba(108,198,211,.65) 0) 0 0/14px 14px;
      opacity:.9;
      margin:-14px -16px 10px;
    }
    .sprinkles{
      height:10px;
      background:
        radial-gradient(circle, rgba(244,162,97,.8) 2px, transparent 3px) 0 0/18px 10px,
        radial-gradient(circle, rgba(233,167,182,.8) 2px, transparent 3px) 6px 2px/18px 10px,
        radial-gradient(circle, rgba(108,198,211,.8) 2px, transparent 3px) 12px 1px/18px 10px;
      opacity:.9;
      margin:0 -16px 12px;
    }

    .title{
      text-align:center;
      line-height:1;
      padding:4px 4px 10px;
    }
    .title .script{
      font-family: "Comic Sans MS", "Segoe Script", "Brush Script MT", cursive;
      font-size: clamp(34px, 6.5vw, 62px);
      font-weight: 600;
      letter-spacing:.5px;
      color:var(--lav);
      text-shadow: 0 1px 0 rgba(255,255,255,.5);
    }
    .title .script .swash{
      color:var(--aqua);
    }
    .title .block{
      margin-top:6px;
      font-weight: 800;
      letter-spacing: .35em;
      font-size: clamp(34px, 6.8vw, 64px);
      color:var(--sage);
    }

    .content{
      padding:14px 14px 16px;
      display:grid;
      gap:14px;
      grid-template-columns: 1fr;
    }

    .gridWrap{
      border:3px solid rgba(159,201,187,.85);
      border-radius:14px;
      padding:10px;
      background: linear-gradient(180deg, #ffffff 0%, #fbfffd 100%);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:0;
      border-radius:10px;
      overflow:hidden;
      border:2px solid rgba(159,201,187,.55);
      background:#fff;
    }

    .cell{
      position:relative;
      aspect-ratio: 1 / 1;
      border:1px solid rgba(159,201,187,.55);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:8px;
      text-align:center;
      cursor:pointer;
      user-select:none;
      background:#fff;
      transition: transform .08s ease, background .18s ease;
      min-height: 54px;
    }
    .cell:active{ transform: scale(.985); }

    .word{
      font-weight: 750;
      font-size: clamp(10px, 2.8vw, 15px);
      line-height: 1.05;
      word-break: break-word;
      hyphens:auto;
      padding:2px 4px;
    }

    .cell.marked{
      background: rgba(191,224,211,.35);
    }
    .cell.marked::after{
      content:"";
      position:absolute;
      inset:10%;
      border-radius:999px;
      border:3px solid rgba(108,198,211,.55);
      background: rgba(183,154,214,.08);
      box-shadow: 0 6px 20px rgba(108,198,211,.15);
      pointer-events:none;
    }

    /* pastel word colors (like the sample image) */
    .c1{ color: var(--peach); }
    .c2{ color: var(--sage); }
    .c3{ color: var(--lav); }
    .c4{ color: var(--pink); }
    .c5{ color: var(--aqua); }

    /* FREE center */
    .free{
      cursor:default;
      background: linear-gradient(180deg, rgba(191,224,211,.35) 0%, rgba(191,224,211,.18) 100%);
    }
    .free::after{
      content:"";
      position:absolute;
      inset:16%;
      border-radius:18px;
      background: rgba(255,255,255,.7);
      border:2px solid rgba(159,201,187,.5);
      pointer-events:none;
    }
    .freeInner{
      position:relative;
      z-index:1;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      font-weight:900;
      letter-spacing:.04em;
      font-size: clamp(20px, 5vw, 34px);
      color:#4b4b4b;
    }
    .paw{
      width: clamp(20px, 4.8vw, 34px);
      height: clamp(20px, 4.8vw, 34px);
      filter: drop-shadow(0 2px 8px rgba(0,0,0,.08));
    }

    /* controls + host panel */
    .panel{
      display:grid;
      gap:10px;
      grid-template-columns: 1fr;
    }

    .buttons{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:center;
    }

    button{
      appearance:none;
      border:0;
      border-radius:999px;
      padding:10px 14px;
      font-weight:750;
      background: var(--mint);
      color:#24524a;
      box-shadow: 0 10px 22px rgba(0,0,0,.06);
      cursor:pointer;
      transition: transform .08s ease, filter .2s ease;
    }
    button:hover{ filter: brightness(1.02); }
    button:active{ transform: scale(.985); }
    .btn2{ background: rgba(108,198,211,.25); color:#1b4c56; }
    .btn3{ background: rgba(244,162,97,.25); color:#6b3a16; }

    .host{
      border:2px solid rgba(159,201,187,.6);
      border-radius:14px;
      padding:12px;
      background: #fbfffd;
    }
    .hostTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .hostTitle{
      font-weight:900;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:12px;
      color:#2f6a5f;
    }
    .currentCall{
      margin-top:10px;
      border-radius:12px;
      border:2px dashed rgba(183,154,214,.55);
      padding:12px;
      text-align:center;
      background: rgba(183,154,214,.07);
    }
    .currentCall .label{
      font-size:12px;
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:#6a4c87;
      opacity:.9;
    }
    .currentCall .wordNow{
      margin-top:6px;
      font-size: clamp(18px, 4.5vw, 28px);
      font-weight:950;
      color:#3b3b3b;
    }

    .calledList{
      margin-top:10px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .chip{
      font-size:12px;
      font-weight:800;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(191,224,211,.35);
      border:1px solid rgba(159,201,187,.6);
      color:#24524a;
    }

    .footerNote{
      text-align:center;
      font-size:11px;
      padding:10px 12px 14px;
      color: rgba(42,42,42,.55);
      letter-spacing:.12em;
      text-transform:uppercase;
      background:linear-gradient(180deg, #ffffff 0%, #f4fbf7 100%);
      border-top:2px solid rgba(159,201,187,.35);
    }

    /* Desktop layout: board + host panel side by side */
    @media (min-width: 860px){
      .content{
        grid-template-columns: 1.2fr .8fr;
        align-items:start;
      }
      .panel{ position: sticky; top: 12px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card" role="application" aria-label="Baby Shower Bingo Game">
      <div class="topbar">
        <div class="zigzag"></div>
        <div class="sprinkles"></div>
        <div class="title">
          <div class="script">Baby <span class="swash">Shower</span></div>
          <div class="block">BINGO</div>
        </div>
      </div>

      <div class="content">
        <div class="gridWrap">
          <div id="grid" class="grid" aria-label="Bingo grid"></div>
        </div>

        <div class="panel">
          <div class="buttons">
            <button id="newCardBtn" title="Generate a new bingo card">New Card</button>
            <button id="clearMarksBtn" class="btn2" title="Clear checkmarks on this card">Clear Marks</button>
            <button id="resetGameBtn" class="btn3" title="Reset card + called words">Reset Game</button>
          </div>

          <div class="host" aria-label="Host tools">
            <div class="hostTop">
              <div class="hostTitle">Host Tools (optional)</div>
              <div class="buttons" style="justify-content:flex-end">
                <button id="drawBtn" class="btn2">Draw Word</button>
              </div>
            </div>

            <div class="currentCall">
              <div class="label">Current Call</div>
              <div id="currentWord" class="wordNow">—</div>
            </div>

            <div class="calledList" id="calledList" aria-label="Called words list"></div>
          </div>
        </div>
      </div>

      <div class="footerNote">Tap a square to mark it • Works on mobile & desktop</div>
    </div>
  </div>

  <script>
    /***********************
     * WORD POOL (edit freely)
     ***********************/
    const WORD_POOL = [
      "diapers","wipes","pacifier","bottle","bibs","burp cloths","swaddle","onesie","socks","booties",
      "mittens","baby lotion","baby shampoo","baby wash","rash cream","changing pad","diaper bag","baby blanket","receiving blankets","crib",
      "bassinet","stroller","car seat","baby carrier","baby sling","teething rings","rattle","teddy bear","plush toy","board book",
      "baby monitor","sound machine","bottle warmer","breast pump","nursing pad","milk storage bags","high chair","baby bath","washcloths","hooded towel",
      "baby pajamas","baby hat","baby bow","baby shoes","play mat","activity gym","rocking chair","baby swing","walker","bouncer",
      "gripe water","thermometer","nail clippers","baby comb","sippy cup","spoons","baby bowl","snack container","hand sanitizer","bib clips",
      "crib sheets","changing table","storage bins","laundry basket","stork","piggy bank","gift card","diaper pin","baby hangers","night light"
    ];

    const STORAGE_KEY = "bingo_words_v2_dg_paw";
    const MARKS_KEY   = "bingo_marks_v2_dg_paw";
    const CALLED_KEY  = "bingo_called_v2_dg_paw";
    const REMAIN_KEY  = "bingo_remaining_v2_dg_paw";
    const CUR_KEY     = "bingo_current_v2_dg_paw";

    const gridEl = document.getElementById("grid");
    const currentWordEl = document.getElementById("currentWord");
    const calledListEl = document.getElementById("calledList");

    const pawSVG = `
      <svg class="paw" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="paw icon" role="img">
        <g fill="#6CC6D3">
          <circle cx="18" cy="22" r="6"/>
          <circle cx="32" cy="16" r="6"/>
          <circle cx="46" cy="22" r="6"/>
          <circle cx="24" cy="34" r="6"/>
          <path d="M32 28c-10 0-18 8-18 16 0 8 10 14 18 14s18-6 18-14c0-8-8-16-18-16z" fill="#B79AD6"/>
        </g>
      </svg>
    `;

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function buildCardWords(){
      // pick 24 unique words + center free
      const picks = shuffle(WORD_POOL).slice(0, 24);
      const words = [];
      let p = 0;
      for(let i=0;i<25;i++){
        if(i === 12){
          words.push("__FREE__");
        } else {
          words.push(picks[p++]);
        }
      }
      return words;
    }

    function renderGrid(words, marks){
      gridEl.innerHTML = "";

      words.forEach((w, idx) => {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.setAttribute("role","button");
        cell.setAttribute("tabindex","0");
        cell.dataset.idx = String(idx);

        // color class rotation to mimic sample
        const colorClass = ["c1","c2","c3","c4","c5"][idx % 5];

        if(w === "__FREE__"){
          cell.classList.add("free");
          cell.innerHTML = `
            <div class="freeInner" aria-label="Free space">
              <span>D</span>
              ${pawSVG}
              <span>G</span>
            </div>
          `;
        } else {
          const span = document.createElement("div");
          span.className = `word ${colorClass}`;
          span.textContent = w;
          cell.appendChild(span);
        }

        const isMarked = !!marks[idx];
        if(isMarked) cell.classList.add("marked");

        if(w !== "__FREE__"){
          const toggle = () => {
            marks[idx] = !marks[idx];
            cell.classList.toggle("marked", marks[idx]);
            saveMarks(marks);
            // small haptic-like feel on mobile (supported browsers only)
            if (navigator.vibrate) navigator.vibrate(12);
          };

          cell.addEventListener("click", toggle);
          cell.addEventListener("keydown", (e) => {
            if(e.key === "Enter" || e.key === " "){
              e.preventDefault();
              toggle();
            }
          });
        } else {
          // always marked? no — leave unmarked (visual already distinct)
          cell.setAttribute("aria-disabled","true");
        }

        gridEl.appendChild(cell);
      });
    }

    function saveWords(words){ localStorage.setItem(STORAGE_KEY, JSON.stringify(words)); }
    function loadWords(){
      try{
        const v = localStorage.getItem(STORAGE_KEY);
        return v ? JSON.parse(v) : null;
      }catch{ return null; }
    }

    function saveMarks(m){ localStorage.setItem(MARKS_KEY, JSON.stringify(m)); }
    function loadMarks(){
      try{
        const v = localStorage.getItem(MARKS_KEY);
        return v ? JSON.parse(v) : Array(25).fill(false);
      }catch{ return Array(25).fill(false); }
    }

    function saveCalled(list){ localStorage.setItem(CALLED_KEY, JSON.stringify(list)); }
    function loadCalled(){
      try{
        const v = localStorage.getItem(CALLED_KEY);
        return v ? JSON.parse(v) : [];
      }catch{ return []; }
    }

    function saveRemaining(list){ localStorage.setItem(REMAIN_KEY, JSON.stringify(list)); }
    function loadRemaining(){
      try{
        const v = localStorage.getItem(REMAIN_KEY);
        return v ? JSON.parse(v) : null;
      }catch{ return null; }
    }

    function saveCurrent(w){ localStorage.setItem(CUR_KEY, w ?? ""); }
    function loadCurrent(){ return localStorage.getItem(CUR_KEY) || "—"; }

    function renderCalled(called){
      calledListEl.innerHTML = "";
      called.slice().reverse().forEach(w => {
        const chip = document.createElement("div");
        chip.className = "chip";
        chip.textContent = w;
        calledListEl.appendChild(chip);
      });
    }

    function newCard(){
      const words = buildCardWords();
      const marks = Array(25).fill(false);
      saveWords(words);
      saveMarks(marks);
      renderGrid(words, marks);
    }

    function clearMarks(){
      const words = loadWords() || buildCardWords();
      const marks = Array(25).fill(false);
      saveWords(words);
      saveMarks(marks);
      renderGrid(words, marks);
    }

    function resetGame(){
      // Reset everything: card + marks + called words + remaining draw deck
      newCard();
      const called = [];
      const remaining = shuffle(WORD_POOL);
      saveCalled(called);
      saveRemaining(remaining);
      saveCurrent("—");
      currentWordEl.textContent = "—";
      renderCalled(called);
    }

    function ensureHostDeck(){
      let remaining = loadRemaining();
      if(!remaining || !Array.isArray(remaining) || remaining.length === 0){
        remaining = shuffle(WORD_POOL);
        saveRemaining(remaining);
      }
      return remaining;
    }

    function drawWord(){
      const called = loadCalled();
      let remaining = ensureHostDeck();

      if(remaining.length === 0){
        currentWordEl.textContent = "No more words";
        saveCurrent("No more words");
        return;
      }

      const w = remaining.shift();
      called.push(w);

      saveRemaining(remaining);
      saveCalled(called);
      saveCurrent(w);

      currentWordEl.textContent = w;
      renderCalled(called);
    }

    // Boot
    (function init(){
      const words = loadWords() || buildCardWords();
      const marks = loadMarks();
      saveWords(words);
      saveMarks(marks);
      renderGrid(words, marks);

      const called = loadCalled();
      renderCalled(called);

      currentWordEl.textContent = loadCurrent();

      // initialize remaining deck if missing (keeps host tool ready)
      if(!loadRemaining()) saveRemaining(shuffle(WORD_POOL));

      document.getElementById("newCardBtn").addEventListener("click", () => {
        newCard();
      });
      document.getElementById("clearMarksBtn").addEventListener("click", () => {
        clearMarks();
      });
      document.getElementById("resetGameBtn").addEventListener("click", () => {
        resetGame();
      });
      document.getElementById("drawBtn").addEventListener("click", () => {
        drawWord();
      });
    })();
  </script>
</body>
</html>
